<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <title>滑动验证</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta name="author" content="海淘国际" />
    <meta name="copyright" content="海淘国际" />
    <meta name="keywords" content="海淘商城,进口商品,进口食品,，跨境保税，海外直邮，海淘优品，海淘国际"/>
    <meta name="description" content="海淘商城,放心买进口货，全球优质货品通过海关直通中国，保真，低价，快捷，合法-重庆海淘国际贸易有限公司"/>
    <link rel="stylesheet" href="css/base.css">
   
</head>
<style>
#movementVer{width: 300px;margin:200px auto;height: 40px;line-height:40px;background: #f40;position: relative;}
#movementVer .moveLeft{width: 60px;height: 40px;line-height: 40px;background: #e4e4e4;color: #666;cursor:pointer;draggable:false;}
#movementVer .moveRight{width: 240px;height: 40px;line-height: 40px;background: #f1f1f1;cursor: default;overflow: hidden;}
#movementVer .moveRight span{margin-left: 10px;}
</style>
<body>
	<div id="movementVer" class="clearfix ac" onmouseover="canlce()">
		<div class="moveLeft ac fl" onmousedown="downMovement(event)" onmouseover="canlce()" onmousemove="movement_s(event)" onmouseup="upMovement()">
			滑动
		</div>
		<div class="moveRight ac fl">
			向右滑动<span>></span><span>></span>
		</div>
	</div>
	<div class="tosta"></div>
</body>
<script type="text/javascript" src="js/jquery.min.js"></script>

<script type="text/javascript">

var moveX = 0;
var booleanX = false;
var xmove = 0;
var marginLeft =0;
var width = 0;
function downMovement(event){
	booleanX = true;
	var e = event || window.event;
    if (booleanX) {
    	moveX= e.screenX;//按下时的X左边
    };
	
}
function upMovement(){
	booleanX = false;
	var ML = $("#movementVer").find(".moveRight").width();

	if(ML==0){
		$("#movementVer").css("background","#00FF00");
		$("#movementVer").css("color","#fff");
		$("#movementVer").html("完成验证");
	};
	if (ML!=0) {
		marginLeft = 0;
		width = 0;
		$("#movementVer").find(".moveLeft").css("margin-left",marginLeft+"px");
    	$("#movementVer").find(".moveRight").css("width","240px");
	};
	
}
function movement_s(event){
	var e = event || window.event;
    if (booleanX) {
    	xmove = e.screenX;//实时移动距离
    	if (xmove>moveX) {
    		marginLeft = xmove - moveX;
	    	width = 240 - marginLeft
	    	if (marginLeft<=240) {
	    		$("#movementVer").find(".moveLeft").css("margin-left",marginLeft+"px");
	    		$("#movementVer").find(".moveRight").css("width",width+"px");
	    	};
	    	
    	};
    	
    };

}

function canlce(){
	booleanX = false;
	upMovement();
}


</script>
</html>